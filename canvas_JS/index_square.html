<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>square</title>
</head>
<body>
	<canvas id="canvas" width="1200" height="600"></canvas>
<script>
	
    let ctx = document.getElementById("canvas").canvas.getContext("2d");
    let size = 350; //размер квадратов
    let angle = 0; //угол поворота квадрата

    function drawSquare (p0, p1, p2, p3) { //функция для отрисовки квадрата
        ctx.beginPath();
        ctx.moveTo(p0.x, p0.y);
        ctx.lineTo(p1.x, p1.y);
        ctx.lineTo(p2.x, p2.y);
        ctx.lineTo(p3.x, p3.y);
        ctx.lineTo(p0.x, p0.y);
        ctx.stroke();
    }
    
    function drawPyramid (){ //функция для отрисовки вложенных квадратов
        let pA = { //координаты вершин квадрата
                x: (250 + size * Math.cos(Math.PI / 4)),
                y: (250 + size * Math.sin(Math.PI / 4)),
				};
		let pB = {
                x: (250 + size * Math.cos(3 * Math.PI / 4)),
                y: (250 + size * Math.sin(3 * Math.PI / 4))
            	};
		let pC = {
                x: (250 + size * Math.cos(5 * Math.PI / 4)),
                y: (250 + size * Math.sin(5 * Math.PI / 4))
            	};
		let pD = {
                x: (250 + size * Math.cos(7 * Math.PI / 4)),
                y: (250 + size * Math.sin(7 * Math.PI / 4))
            	};
        drawSquare(pA, pB, pC, pD);
    }
    
    function drawSpiralSquare (){ ////функция для отрисовки вложенных спиральных квадратов
        let pA = {
                x: (800 + size * Math.cos(angle + Math.PI / 4)),
                y: (250 + size * Math.sin(angle + Math.PI / 4)),
            	};
		let pB = {
                x: (800 + size * Math.cos(angle + 3 * Math.PI / 4)),
                y: (250 + size * Math.sin(angle + 3 * Math.PI / 4))
            	};
		let pC = {
                x: (800 + size * Math.cos(angle + 5 * Math.PI / 4)),
                y: (250 + size * Math.sin(angle + 5 * Math.PI / 4))
            	};
		let pD = {
                x: (800 + size * Math.cos(angle + 7 * Math.PI / 4)),
                y: (250 + size * Math.sin(angle + 7 * Math.PI / 4))
            };
        drawSquare(pA, pB, pC, pD);
    }

    for (let i = 0; i < 30; i++) { //цикл для построения вложенных квадратов и вложенных спиральных квадратов
        drawPyramid();
        drawSpiralSquare();
        size = size * Math.sin(Math.PI / 3); //с каждым шагом цикла меняется размер квадратов
        angle = angle + Math.PI / 19; //изменяется угол поворота квадрата
    }
</script>
</body>
</html>