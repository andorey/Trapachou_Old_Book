<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Form Validation</title>
</head>
<style>
	body{
		display: flex;
		justify-content: center;
		text-align: center;
	}
    form {
		border: dotted lightgray 3px;
		width: 340px;
        display: flex;
        flex-direction: column;
		border-radius: 20px;
    }
    input {
		font-size: 0.6em;
        margin: 5px 10px 10px 10px;
		padding: 3px;
		width: 270px;
    }
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
    input[type=number] {
        -moz-appearance:textfield;
    }
	label{
		font-family: monospace;
		font-size: 1.5em;
		margin-top: 15px;
	}
    .false {
        border:1px solid red;
        outline: none;
    }
    .true {
        border: 1px solid green;
        outline: none;
    }
</style>
<body >

<form>
	<label>
		E-mail :<input id="email" type="email" placeholder="Введите emeil">
	</label>
	<label>
		Phone number :<input id="phone" placeholder="Введите телефон   +_ ___ ___ ____">
	</label>
	<label>
		Input date :<input id="data" placeholder="Введите дату в формате dd/mm/yy">
	</label>
	<label>
		Site address :<input id="web" type="url" placeholder= "Адрес сайта формата http://____ . __">
	</label>
	<label>
		<input id="check" type="button" value="Check Data">
	</label>
</form>

<script>
	
    let email = document.getElementById('email');
    let phone = document.getElementById('phone');
	
	document.getElementById('check').addEventListener('click', function () {

        if(/^[a-z]+\W?_?[a-z]+@[a-z]+\.[a-z]{2,3}$/.test(email.value)){
            email.classList.add('true');
		}else{
            alert('Введите правильную почту');
            email.classList.add('false')
		}

		if(/^\d{11}$/.test(phone.value.replace(/\D/g, ''))){
			phone.classList.add('true');
		} else {
			alert('Введите правильный номер');
            phone.classList.add('false');
		}
    })
	
	
	phone.addEventListener('input', function (event) {
	    let arr = phone.value.match(/\d/g) || [];
	    
        if(event.inputType === "deleteContentBackward") arr ? arr.pop() : [];
	    
	    if (arr.length > 11) arr.length = 11;
		
		phone.value = `+${arr[0] || ''} ${arr[1] || ''}${arr[2] || ''}${arr[3] || ''} ${arr[4] || ''}${arr[5] || ''}${arr[6] || ''} ${arr[7] || ''}${arr[8] || ''}${arr[9] || ''}${arr[10] || ''} `;
    })

    
    //     if(/^(0[1-9]|[12]\d|3[01])\.(0[1-9]|1[0-2])\.([12]\d{3})$/.test($('#data').val())){
    //         $('#data').addClass('ok');
    //     }else { alert('Введите правильную дату');
    //         $('#data').addClass('wrong');
    //     }
    //     if(/^https?:\/\/[a-z.-_]+\.[a-z]{2,3}$/.test($('#web').val())){
    //         $('#web').addClass('ok');
    //     }else { alert('Введите правильный адрес сайта');
    //         $('#web').addClass('wrong');}
    //     return false;
    // });
	
</script>
</body>
</html>